// Depending on parity and rounding, can be off by a few

Console.WriteLine(new List<string[]>(){File.ReadAllLines("input.txt")}.Select(j => new Tuple<long,long>(long.Parse(j[0].Split(" ").Where(r => long.TryParse(r, out _)).Aggregate("", (previous,current) => previous + current)), long.Parse(j[1].Split(" ").Where(r => long.TryParse(r, out _)).Aggregate("", (previous,current) => previous + current)))).Select(j => Enumerable.Range(0, (int)Math.Log2(j.Item1) + 5).Aggregate(new Tuple<long,long, long>(j.Item1/2, j.Item1, j.Item1), (previous, current) => ((previous.Item1 + previous.Item2) / 2 * (j.Item1 - ((previous.Item1 + previous.Item2) / 2)) < j.Item2) ? new(previous.Item1, (previous.Item1 + previous.Item2) / 2, previous.Item3) : new((previous.Item1 + previous.Item2) / 2, previous.Item2, previous.Item3))).Select(r => 2*(r.Item1 - (r.Item3 / 2))).First());